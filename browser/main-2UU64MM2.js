import{a as be,b as Ae,d as we}from"./chunk-2BUTU4WP.js";import{a as ve}from"./chunk-R4IK64KG.js";import{d as ye,e as Se}from"./chunk-XOEONSQL.js";import{a as ce,b as ue}from"./chunk-6UPP6J5W.js";import{a as ge}from"./chunk-Z25EG5AB.js";import{a as fe,b as he}from"./chunk-R6CPRWTE.js";import{A as de,C as pe,d as G,e as H,f as F,g as Y,i as $,j as q,l as Z,m as M,o as X,p as J,q as K,y as le,z as me}from"./chunk-4ZK7S6GW.js";import{b as Q,c as v,e as ee,f as te,h as ie,i as oe,j as re,k as ne,m as se,r as ae,v as R}from"./chunk-JU6K5ZZG.js";import{f as Ie,g as y,h as D,m as Ce,n as _,p as Ne,u as xe}from"./chunk-GH3PX7SD.js";import"./chunk-4YRY4IP2.js";import{$a as w,Ac as N,B as L,Bb as z,Cb as P,Jc as W,Kb as u,Mb as T,Pc as x,R as j,Sa as d,Sb as C,T as f,Ua as k,W as V,Wa as U,Y as h,Ya as A,Z as s,ba as S,fa as B,fb as I,lb as c,sa as b,tb as a,ub as p,vb as m,za as g}from"./chunk-Z7LPJ5M7.js";function Le(o,t){if(o&1&&(a(0,"span",17),u(1),p()),o&2){let e=P();d(),T(" ",e.getFieldError("email")," ")}}function je(o,t){if(o&1&&(a(0,"span",17),u(1),p()),o&2){let e=P();d(),T(" ",e.getFieldError("password")," ")}}function Ve(o,t){o&1&&(a(0,"div",18),m(1,"p-progressSpinner",19),p())}var Fe=(()=>{class o{constructor(){this.fb=s(ne),this.authService=s(ge),this.messageService=s(R),this.validatorsService=s(ve),this.route=s(M),this.showSpinner=!1}ngOnInit(){this.formLogin=this.fb.group({email:["",[v.required,v.pattern(/^[\w-\.]+@([\w-]+\.)+[\w-]{2,4}$/)]],password:["",[v.required,v.minLength(8)]]})}isValidField(e){return this.validatorsService.isValidField(this.formLogin,e)}getFieldError(e){return this.validatorsService.getFieldError(this.formLogin,e)}onLogin(){if(!this.formLogin.valid){this.messageService.add({severity:"error",summary:"Datos no validos",detail:""});return}this.showSpinner=!0;let{email:e,password:i}=this.formLogin.value;this.authService.login(e,i).subscribe(r=>{if(this.showSpinner=!1,console.log(r),r){this.authService.saveLocalStorage(r),console.log(r),this.messageService.add({severity:"info",summary:"Bienvenido",detail:""}),this.route.navigateByUrl("/admin");return}this.messageService.add({severity:"error",summary:"Usuario No Registrado",detail:""})})}static{this.\u0275fac=function(i){return new(i||o)}}static{this.\u0275cmp=S({type:o,selectors:[["app-login-page"]],standalone:!0,features:[C],decls:24,vars:6,consts:[[1,"login","container"],[1,"surface-card","p-4","shadow-2","border-round","w-full","lg:w-6"],[1,"text-center","mb-5"],[1,"pi","pi-user",2,"font-size","2rem"],[1,"text-900","text-3xl","font-medium","mb-3"],["action","",3,"ngSubmit","formGroup"],["for","email1",1,"block","text-900","font-medium","mb-2"],["id","email1","type","text","placeholder","Email","pInputText","","formControlName","email",1,"w-full","mb-3"],["class","form-text text-danger",4,"ngIf"],["for","password1",1,"block","text-900","font-medium","mb-2"],["id","password1","type","password","placeholder","Password","pInputText","","formControlName","password",1,"w-full","mb-3"],[1,"flex","align-items-center","justify-content-between","mb-6"],[1,"flex","align-items-center"],["id","rememberme1","styleClass","mr-2",3,"binary"],["for","rememberme1",1,"text-900"],["class","card flex justify-content-center",4,"ngIf"],["type","submit","pButton","","pRipple","","label","Iniciar Sesi\xF3n","icon","pi pi-user",1,"w-full",3,"disabled"],[1,"form-text","text-danger"],[1,"card","flex","justify-content-center"],["ariaLabel","loading"]],template:function(i,r){i&1&&(a(0,"div",0)(1,"div",1)(2,"div",2),m(3,"i",3),a(4,"div",4),u(5,"Bienvenido"),p()(),a(6,"div")(7,"form",5),z("ngSubmit",function(){return r.onLogin()}),a(8,"label",6),u(9,"Email"),p(),m(10,"input",7),I(11,Le,2,1,"span",8),a(12,"label",9),u(13,"Password"),p(),m(14,"input",10),I(15,je,2,1,"span",8),a(16,"div",11)(17,"div",12),m(18,"p-checkbox",13),a(19,"label",14),u(20,"Recordar"),p()()(),I(21,Ve,2,0,"div",15),m(22,"button",16),p()()()(),m(23,"p-toast")),i&2&&(d(7),c("formGroup",r.formLogin),d(4),c("ngIf",r.isValidField("email")),d(4),c("ngIf",r.isValidField("password")),d(3),c("binary",!0),d(3),c("ngIf",r.showSpinner),d(),c("disabled",r.showSpinner))},dependencies:[x,W,ue,ce,pe,de,he,fe,me,le,se,ie,Q,ee,te,oe,re,Se,ye,Ae,be],styles:[".surface-card[_ngcontent-%COMP%]{margin:30px auto!important}"],changeDetection:0})}}return o})();var Me=[{path:"login",component:Fe},{path:"admin",loadChildren:()=>import("./chunk-LV2ISLDQ.js").then(o=>o.ADMIN_ROUTES)},{path:"",loadChildren:()=>import("./chunk-NL7HE7RF.js").then(o=>o.FOOD_ROUTES)},{path:"**",redirectTo:"",pathMatch:"full"}];var Be=(()=>{class o extends _{constructor(e,i,r){super(e,i,r)}ngOnDestroy(){this.flush()}static{this.\u0275fac=function(i){return new(i||o)(h(N),h(y),h(D))}}static{this.\u0275prov=f({token:o,factory:o.\u0275fac})}}return o})();function ke(){return new Ce}function Ue(o,t,e){return new xe(o,t,e)}var Re=[{provide:D,useFactory:ke},{provide:_,useClass:Be},{provide:A,useFactory:Ue,deps:[F,_,b]}],ze=[{provide:y,useFactory:()=>new Ne},{provide:g,useValue:"BrowserAnimations"},...Re],Rt=[{provide:y,useClass:Ie},{provide:g,useValue:"NoopAnimations"},...Re];function De(){return w("NgEagerAnimations"),[...ze]}var We="@",Ge=(()=>{class o{constructor(e,i,r,l,n){this.doc=e,this.delegate=i,this.zone=r,this.animationType=l,this.moduleImpl=n,this._rendererFactoryPromise=null,this.scheduler=s(U,{optional:!0}),this.loadingSchedulerFn=s(He,{optional:!0})}ngOnDestroy(){this._engine?.flush()}loadImpl(){let e=()=>this.moduleImpl??import("./chunk-4OBLJ4DB.js").then(r=>r),i;return this.loadingSchedulerFn?i=this.loadingSchedulerFn(e):i=e(),i.catch(r=>{throw new j(5300,!1)}).then(({\u0275createEngine:r,\u0275AnimationRendererFactory:l})=>{this._engine=r(this.animationType,this.doc);let n=new l(this.delegate,this._engine,this.zone);return this.delegate=n,n})}createRenderer(e,i){let r=this.delegate.createRenderer(e,i);if(r.\u0275type===0)return r;typeof r.throwOnSyntheticProps=="boolean"&&(r.throwOnSyntheticProps=!1);let l=new O(r);return i?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(n=>{let Oe=n.createRenderer(e,i);l.use(Oe),this.scheduler?.notify(10)}).catch(n=>{l.use(r)}),l}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}static{this.\u0275fac=function(i){k()}}static{this.\u0275prov=f({token:o,factory:o.\u0275fac})}}return o})(),O=class{constructor(t){this.delegate=t,this.replay=[],this.\u0275type=1}use(t){if(this.delegate=t,this.replay!==null){for(let e of this.replay)e(t);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}get destroyNode(){return this.delegate.destroyNode}appendChild(t,e){this.delegate.appendChild(t,e)}insertBefore(t,e,i,r){this.delegate.insertBefore(t,e,i,r)}removeChild(t,e,i){this.delegate.removeChild(t,e,i)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,r){this.delegate.setAttribute(t,e,i,r)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,r){this.delegate.setStyle(t,e,i,r)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){this.shouldReplay(e)&&this.replay.push(r=>r.setProperty(t,e,i)),this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.shouldReplay(e)&&this.replay.push(r=>r.listen(t,e,i)),this.delegate.listen(t,e,i)}shouldReplay(t){return this.replay!==null&&t.startsWith(We)}},He=new V("");function _e(o="animations"){return w("NgAsyncAnimations"),B([{provide:A,useFactory:(t,e,i)=>new Ge(t,e,i,o),deps:[N,F,b]},{provide:g,useValue:o==="noop"?"NoopAnimations":"BrowserAnimations"}])}var Ee={providers:[X(Me,J(),K()),$(),_e(),De(),G(H()),we(),ae,R]};var Pe=(()=>{class o{constructor(e){this.router=e,this.isAdminView=!1,this.isPromoView=!1,this.isPublicBusinessView=!1,this.router.events.pipe(L(i=>i instanceof q)).subscribe(()=>{let i=["/admin/dashboard","/admin/catalog","/admin/sliders","/admin/orders","/admin/business-settings","/admin/product-management","/admin/schedules","/admin/plan"],r=["/promotion"],l=[/^\/store\/[^\/]+$/,/^\/store\/product-explorer\/[^\/]+$/];this.isAdminView=i.some(n=>this.router.url.startsWith(n)),this.isPromoView=r.some(n=>this.router.url.startsWith(n)),this.isPublicBusinessView=l.some(n=>n.test(this.router.url))})}static{this.\u0275fac=function(i){return new(i||o)(h(M))}}static{this.\u0275prov=f({token:o,factory:o.\u0275fac,providedIn:"root"})}}return o})();var Te=(()=>{class o{constructor(){this.loading=!1,this.layoutService=s(Pe)}ngOnInit(){}static{this.\u0275fac=function(i){return new(i||o)}}static{this.\u0275cmp=S({type:o,selectors:[["app-root"]],standalone:!0,features:[C],decls:1,vars:0,template:function(i,r){i&1&&m(0,"router-outlet")},dependencies:[x,Z]})}}return o})();Y(Te,Ee).catch(o=>console.error(o));
