import './polyfills.server.mjs';
import{a as ve}from"./chunk-OV3KPJEV.mjs";import{a as ce,b as ue}from"./chunk-RHAAPE3N.mjs";import{a as $,d as q}from"./chunk-SCH4Q6TQ.mjs";import{a as be,b as we,d as Ce}from"./chunk-A33PPATZ.mjs";import{d as ye,e as Se}from"./chunk-ZIPSUTAC.mjs";import{a as ge}from"./chunk-BD5QBZBR.mjs";import{g as le,h as me,i as de,k as pe}from"./chunk-MXP5DA67.mjs";import{e as U,f as G,j as z,k as H,m as W,n as Y,p as X,r as b,t as Z,u as J,v as K}from"./chunk-M5W5VWE7.mjs";import{a as fe,b as he}from"./chunk-YMBN7AH5.mjs";import{b as Q,c as f,e as ee,f as te,h as ie,i as re,j as oe,k as ne,m as se,r as ae,v as w}from"./chunk-MZQYRCJF.mjs";import{$ as M,Dc as j,Gb as u,Ib as x,L as I,N as h,Oa as d,Ob as y,Oc as k,Q as R,Qa as T,S as P,Sa as D,T as s,Ua as L,Uc as S,X as g,Xa as V,bb as v,hb as c,ma as E,pb as a,qb as p,rb as m,ta as N,v as A,xb as O,yb as C,zc as B}from"./chunk-H7TBDE3E.mjs";var xe=(()=>{class o{constructor(e){this.router=e,this.isAdminView=!1,this.isPromoView=!1,this.isPublicBusinessView=!1,this.router.events.pipe(A(i=>i instanceof Y)).subscribe(()=>{let i=["/admin/dashboard","/admin/catalog","/admin/sliders","/admin/orders","/admin/business-settings","/admin/product-management","/admin/schedules","/admin/plan"],r=["/promotion"],l=[/^\/store\/[^\/]+$/,/^\/store\/product-explorer\/[^\/]+$/];this.isAdminView=i.some(n=>this.router.url.startsWith(n)),this.isPromoView=r.some(n=>this.router.url.startsWith(n)),this.isPublicBusinessView=l.some(n=>n.test(this.router.url))})}static{this.\u0275fac=function(i){return new(i||o)(P(b))}}static{this.\u0275prov=h({token:o,factory:o.\u0275fac,providedIn:"root"})}}return o})();var Fe=(()=>{class o{constructor(){this.loading=!1,this.layoutService=s(xe)}ngOnInit(){}static{this.\u0275fac=function(i){return new(i||o)}}static{this.\u0275cmp=g({type:o,selectors:[["app-root"]],standalone:!0,features:[y],decls:1,vars:0,template:function(i,r){i&1&&m(0,"router-outlet")},dependencies:[S,X]})}}return o})();function Ee(o,t){if(o&1&&(a(0,"span",17),u(1),p()),o&2){let e=C();d(),x(" ",e.getFieldError("email")," ")}}function Ne(o,t){if(o&1&&(a(0,"span",17),u(1),p()),o&2){let e=C();d(),x(" ",e.getFieldError("password")," ")}}function Te(o,t){o&1&&(a(0,"div",18),m(1,"p-progressSpinner",19),p())}var _e=(()=>{class o{constructor(){this.fb=s(ne),this.authService=s(ge),this.messageService=s(w),this.validatorsService=s(ve),this.route=s(b),this.showSpinner=!1}ngOnInit(){this.formLogin=this.fb.group({email:["",[f.required,f.pattern(/^[\w-\.]+@([\w-]+\.)+[\w-]{2,4}$/)]],password:["",[f.required,f.minLength(8)]]})}isValidField(e){return this.validatorsService.isValidField(this.formLogin,e)}getFieldError(e){return this.validatorsService.getFieldError(this.formLogin,e)}onLogin(){if(!this.formLogin.valid){this.messageService.add({severity:"error",summary:"Datos no validos",detail:""});return}this.showSpinner=!0;let{email:e,password:i}=this.formLogin.value;this.authService.login(e,i).subscribe(r=>{if(this.showSpinner=!1,console.log(r),r){this.authService.saveLocalStorage(r),console.log(r),this.messageService.add({severity:"info",summary:"Bienvenido",detail:""}),this.route.navigateByUrl("/admin");return}this.messageService.add({severity:"error",summary:"Usuario No Registrado",detail:""})})}static{this.\u0275fac=function(i){return new(i||o)}}static{this.\u0275cmp=g({type:o,selectors:[["app-login-page"]],standalone:!0,features:[y],decls:24,vars:6,consts:[[1,"login","container"],[1,"surface-card","p-4","shadow-2","border-round","w-full","lg:w-6"],[1,"text-center","mb-5"],[1,"pi","pi-user",2,"font-size","2rem"],[1,"text-900","text-3xl","font-medium","mb-3"],["action","",3,"ngSubmit","formGroup"],["for","email1",1,"block","text-900","font-medium","mb-2"],["id","email1","type","text","placeholder","Email","pInputText","","formControlName","email",1,"w-full","mb-3"],["class","form-text text-danger",4,"ngIf"],["for","password1",1,"block","text-900","font-medium","mb-2"],["id","password1","type","password","placeholder","Password","pInputText","","formControlName","password",1,"w-full","mb-3"],[1,"flex","align-items-center","justify-content-between","mb-6"],[1,"flex","align-items-center"],["id","rememberme1","styleClass","mr-2",3,"binary"],["for","rememberme1",1,"text-900"],["class","card flex justify-content-center",4,"ngIf"],["type","submit","pButton","","pRipple","","label","Iniciar Sesi\xF3n","icon","pi pi-user",1,"w-full",3,"disabled"],[1,"form-text","text-danger"],[1,"card","flex","justify-content-center"],["ariaLabel","loading"]],template:function(i,r){i&1&&(a(0,"div",0)(1,"div",1)(2,"div",2),m(3,"i",3),a(4,"div",4),u(5,"Bienvenido"),p()(),a(6,"div")(7,"form",5),O("ngSubmit",function(){return r.onLogin()}),a(8,"label",6),u(9,"Email"),p(),m(10,"input",7),v(11,Ee,2,1,"span",8),a(12,"label",9),u(13,"Password"),p(),m(14,"input",10),v(15,Ne,2,1,"span",8),a(16,"div",11)(17,"div",12),m(18,"p-checkbox",13),a(19,"label",14),u(20,"Recordar"),p()()(),v(21,Te,2,0,"div",15),m(22,"button",16),p()()()(),m(23,"p-toast")),i&2&&(d(7),c("formGroup",r.formLogin),d(4),c("ngIf",r.isValidField("email")),d(4),c("ngIf",r.isValidField("password")),d(3),c("binary",!0),d(3),c("ngIf",r.showSpinner),d(),c("disabled",r.showSpinner))},dependencies:[S,k,ue,ce,pe,de,he,fe,me,le,se,ie,Q,ee,te,re,oe,Se,ye,we,be],styles:[".surface-card[_ngcontent-%COMP%]{margin:30px auto!important}"],changeDetection:0})}}return o})();var Ae=[{path:"login",component:_e},{path:"admin",loadChildren:()=>import("./chunk-Q46K27DB.mjs").then(o=>o.ADMIN_ROUTES)},{path:"",loadChildren:()=>import("./chunk-DBRGK5VV.mjs").then(o=>o.FOOD_ROUTES)},{path:"**",redirectTo:"",pathMatch:"full"}];var De="@",Le=(()=>{class o{constructor(e,i,r,l,n){this.doc=e,this.delegate=i,this.zone=r,this.animationType=l,this.moduleImpl=n,this._rendererFactoryPromise=null,this.scheduler=s(D,{optional:!0}),this.loadingSchedulerFn=s(Ve,{optional:!0})}ngOnDestroy(){this._engine?.flush()}loadImpl(){let e=()=>this.moduleImpl??import("./chunk-JKCYRPZL.mjs").then(r=>r),i;return this.loadingSchedulerFn?i=this.loadingSchedulerFn(e):i=e(),i.catch(r=>{throw new I(5300,!1)}).then(({\u0275createEngine:r,\u0275AnimationRendererFactory:l})=>{this._engine=r(this.animationType,this.doc);let n=new l(this.delegate,this._engine,this.zone);return this.delegate=n,n})}createRenderer(e,i){let r=this.delegate.createRenderer(e,i);if(r.\u0275type===0)return r;typeof r.throwOnSyntheticProps=="boolean"&&(r.throwOnSyntheticProps=!1);let l=new _(r);return i?.data?.animation&&!this._rendererFactoryPromise&&(this._rendererFactoryPromise=this.loadImpl()),this._rendererFactoryPromise?.then(n=>{let Me=n.createRenderer(e,i);l.use(Me),this.scheduler?.notify(10)}).catch(n=>{l.use(r)}),l}begin(){this.delegate.begin?.()}end(){this.delegate.end?.()}whenRenderingDone(){return this.delegate.whenRenderingDone?.()??Promise.resolve()}static{this.\u0275fac=function(i){T()}}static{this.\u0275prov=h({token:o,factory:o.\u0275fac})}}return o})(),_=class{constructor(t){this.delegate=t,this.replay=[],this.\u0275type=1}use(t){if(this.delegate=t,this.replay!==null){for(let e of this.replay)e(t);this.replay=null}}get data(){return this.delegate.data}destroy(){this.replay=null,this.delegate.destroy()}createElement(t,e){return this.delegate.createElement(t,e)}createComment(t){return this.delegate.createComment(t)}createText(t){return this.delegate.createText(t)}get destroyNode(){return this.delegate.destroyNode}appendChild(t,e){this.delegate.appendChild(t,e)}insertBefore(t,e,i,r){this.delegate.insertBefore(t,e,i,r)}removeChild(t,e,i){this.delegate.removeChild(t,e,i)}selectRootElement(t,e){return this.delegate.selectRootElement(t,e)}parentNode(t){return this.delegate.parentNode(t)}nextSibling(t){return this.delegate.nextSibling(t)}setAttribute(t,e,i,r){this.delegate.setAttribute(t,e,i,r)}removeAttribute(t,e,i){this.delegate.removeAttribute(t,e,i)}addClass(t,e){this.delegate.addClass(t,e)}removeClass(t,e){this.delegate.removeClass(t,e)}setStyle(t,e,i,r){this.delegate.setStyle(t,e,i,r)}removeStyle(t,e,i){this.delegate.removeStyle(t,e,i)}setProperty(t,e,i){this.shouldReplay(e)&&this.replay.push(r=>r.setProperty(t,e,i)),this.delegate.setProperty(t,e,i)}setValue(t,e){this.delegate.setValue(t,e)}listen(t,e,i){return this.shouldReplay(e)&&this.replay.push(r=>r.listen(t,e,i)),this.delegate.listen(t,e,i)}shouldReplay(t){return this.replay!==null&&t.startsWith(De)}},Ve=new R("");function Ie(o="animations"){return V("NgAsyncAnimations"),M([{provide:L,useFactory:(t,e,i)=>new Le(t,e,i,o),deps:[j,z,E]},{provide:N,useValue:o==="noop"?"NoopAnimations":"BrowserAnimations"}])}var Re={providers:[Z(Ae,J(),K()),W(),Ie(),$(),U(G()),Ce(),ae,w]};var Oe={providers:[q()]},Pe=B(Re,Oe);var Be=()=>H(Fe,Pe),Gt=Be;export{Gt as a};
